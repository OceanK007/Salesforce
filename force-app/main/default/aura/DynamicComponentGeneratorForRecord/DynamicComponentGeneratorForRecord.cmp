<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" >
    <aura:attribute name="recordId" type="String" description="To hold record id" />
   	<aura:attribute name="chkboxvalue" type="boolean" default="contact__c"/>
    <aura:attribute name="objectApiName" type="object" default="Account"/>
    <aura:attribute name="dynamicComponents" type="Aura.Component[]" description="To hold dynamically created components references" />
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    
    <lightning:card iconName="standard:account" title="Account Details">
        <div class="slds-p-horizontal_small">
            <lightning:recordEditForm recordId="{!v.recordId}" objectApiName="{!v.objectApiName}" onsubmit="{!c.handleSubmit}" aura:id="parentEditForm">
                <!--<lightning:OutputField fieldName="Name" />-->
                <lightning:inputField fieldName="Name" /> 
                <lightning:inputField fieldName="Phone" />
                <lightning:inputField fieldName="Status__c" /> 
                <lightning:inputField fieldName="contact__c" aura:id="decisionCheckbox" onchange="{!c.handleOnChange}"/>
                
                <aura:if isTrue="{!v.chkboxvalue}">
                    <lightning:buttonIcon iconName="utility:new" alternativeText="Add Contact" onclick="{! c.handleCreateComponent }"/>
                    <hr class="slds-m-top_small slds-m-bottom_small" />
                    {!v.dynamicComponents}
                </aura:if>
                <lightning:button class="slds-m-top_small" variant="brand" type="submit" name="Save" label="Save" />
            </lightning:recordEditForm> 
        </div>
    </lightning:card>
</aura:component>